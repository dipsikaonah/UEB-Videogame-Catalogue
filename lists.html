<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game List</title>
<link rel="stylesheet" href="style.css">
</head>
<body>


<!--testing per commit, erind balaj-->
    <!--navigation bar, e boni copy paste qeta ncdo faqe ever -->
    <nav>
        <ul>
            <li><img href="#" class="nav-logo" src="images/logo.jpg" alt="Logo"></li>
            <li><a id="title" href="landing.html">QUEST</a></li>

            <li class="nav-spacer"><a  class="navitem" href="games.html">Browse Games</a></li>
            <li><a class="navitem" href="privacy.html">Our Policy</a></li>

            <li><input type="search" placeholder=" Search..."></li>

            <li><button id="loginBtn">Log in</button></li>
            <li><button id="signupBtn" class="button-2">Sign Up</button></li>
        </ul>
    </nav>
    <!-- login and signup -->

     <!-- login -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2>Log in</h2>

            <button class="google-btn">
                <img id="googleicon" src="images/googleicon.png" alt="Google Icon">
                Continue with Google
            </button>

            <p class="divider-text">or</p>

            <form class="modal-form">
                <label for="login-email">Email</label>
                <input id="login-email" name="email" type="email" placeholder="Enter your email or username">

                <label for="login-password">Password</label>
                <input id="login-password" name="password" type="password" placeholder="Enter your password">

                <div class="form-spacer"></div>

                <button type="button" onclick="window.location.href='profile.html'" >Log in</button>
            </form>

                <p class="modal-note"><button id="reset" class="link-button">Reset password</button></p>
                <p class="modal-note">No account? <button id="swapToSignup" class="link-button">Create one</button></p>
        </div>
    </div>

    <!-- signup -->
    <div id="signupModal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2>Sign Up</h2>

            <button class="google-btn">
                <img id="googleicon" src="images/googleicon.png" alt="Google Icon">
                Continue with Google
            </button>

            <p class="divider-text">or</p>

            <form class="modal-form">
                <label for="signup-username">Username</label>
                <input id="signup-username" name="username" type="text" placeholder="Choose a username" >

                <label for="signup-email">Email</label>
                <input id="signup-email" name="email" type="email" placeholder="Enter your email" >

                <label for="signup-age">Age</label>
                <input id="signup-age" name="age" type="number" min="1" max="120" placeholder="Your age" >

                <label for="signup-phone">Phone Number</label>
                <input id="signup-phone" name="phone" type="tel" placeholder="+383 44 123 456" >

                <label for="signup-password">Password</label>
                <input id="signup-password" name="password" type="password" placeholder="Create a password" >

                <label for="signup-confirm">Confirm Password</label>
                <input id="signup-confirm" name="confirm_password" type="password" placeholder="Confirm your password" >

                <div class="form-spacer"></div>

                <button type="button" onclick="window.location.href='profile.html'" class="button-2">Create Account</button>
            </form>

            <p class="modal-note">Already a member? <button id="swapToLogin" class="link-button">Log in!</button></p>
        </div>
    </div>

<!-- Page Title -->
<div class="page-header-row">
    <h1 class="h1-title page-header-title" id="list-title">List Name</h1>
</div>

<!-- Games Container -->
<div class="game-container section-spacing" id="game-container"></div>

<!-- Footer -->
    <footer>
        <div class="footer-columns">
            <div class="footer-col">
            <h2>QUEST</h2>
            </div>
            <div class="footer-col">
            <a href="#">About Us</a><br>
            <a href="#">Contact Us</a>
            </div>
            <div class="footer-col">
            <a href="#">Terms of Service</a><br>
            <a href="privacy.html">Privacy Policy</a>
            </div>
        </div>
        <br>
        <div class="footer-bottom">
            Â© 2025 Quest. All rights reserved. Game data and artwork belong to their respective owners.
        </div>
    </footer>
    
<script>
async function loadList() {
    const urlParams = new URLSearchParams(window.location.search)
    const listIndex = parseInt(urlParams.get('list') || 0)
    const titles = ["Favorites", "Haven't Finished", "Want to Play"]
    document.getElementById('list-title').textContent = titles[listIndex]

    const res = await fetch('games.json')
    const games = await res.json()

    const gamesPerList = 6
    const start = listIndex * gamesPerList
    const end = start + gamesPerList
    const picks = games.slice(start, end)

    const container = document.getElementById("game-container");
    container.innerHTML = ''

    picks.forEach(game => {
        const card = document.createElement("div");
        card.className = "game-card";
        card.innerHTML = `
            <img src="${game.main_image_url}" alt="${game.name}" onerror="this.src='images/games/placeholder.png';">
            <div class="game-card-info">
                <h3>${game.name}</h3>
                <p class="secondary-text">${game.description || ''}</p>
                <div class="genre-container">
                    ${(game.genres || []).map(genre => `<p class="genre-badge">${genre}</p>`).join('')}
                </div>
            </div>
        `;

        card.addEventListener('click', () => {
            window.location.href = `details.html?game=${encodeURIComponent(game.name)}`;
        });

        container.appendChild(card);
    });
}

loadList();
</script>

<script src="script.js"></script>

</body>
</html>
